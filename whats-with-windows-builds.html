<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>What’s up with numpy and Windows? &mdash; mingwpy 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="mingwpy 0.1 documentation" href="index.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="what-s-up-with-numpy-and-windows">
<h1>What&#8217;s up with numpy and Windows?<a class="headerlink" href="#what-s-up-with-numpy-and-windows" title="Permalink to this headline">¶</a></h1>
<p>If you&#8217;re on Linux, you are probably used to your package manager.  You want
the basis scipy packages, so you do something like:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install python-numpy python-scipy python-matplotlib
</pre></div>
</div>
<p>If you&#8217;re on a Mac, that you just brought home from the Apple store, you can
install Python from Python.org, and then do this:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install numpy scipy matplotlib
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">pip</span></code> will download binary wheel packages, and install them; the whole
process will take around 30 seconds.</p>
<p>If you&#8217;re on Windows, and you try the same thing with pip, all hell will
break loose.</p>
<p>Specifically, pip will download the source packages for numpy, scipy,
matplotlib, and then try and compile them.</p>
<p>Particularly for scipy, you are unlikely to have a compiler installed that can
do this - see: <a class="reference external" href="http://mingwpy.github.io/motivation.html">http://mingwpy.github.io/motivation.html</a></p>
<p>Unlike Mac, Windows has no default library for optimized linear algebra
routines (BLAS, LAPACK).  If you have no BLAS / LAPACK library, scipy
compilation will fail.  Numpy compilation will work by falling back to default
and very slow implementations, but the resulting numpy installation would
likely be painful to use for any significant numerical work.</p>
<p>The obvious thing for us numpy-ers to do, is to compile up Windows binary
wheels that do include a fast BLAS / LAPACK library.  Unfortunately, this is
not at all easy for the following reasons.  See : <a class="reference external" href="http://mingwpy.github.io/background.html">mingpy background</a> and <a class="reference external" href="http://mingwpy.github.io/issues.html">mingpy issues</a> for more detail.</p>
<ul class="simple">
<li>The choice of BLAS / LAPACK library is not clear : see
[[Numerical software on Windows]].  In particular there are still some
problems with OpenBLAS that need resolving;</li>
<li>The standard Python.org Windows installers use MS Visual C++.  We can&#8217;t use
MSVC++ to compile scipy because we need a Fortran compiler.  Compiling
OpenBLAS with Visual Studio gives <a class="reference external" href="https://github.com/xianyi/OpenBLAS/wiki/How-to-use-OpenBLAS-in-Microsoft-Visual-Studio#2-cmake-and-visual-studio">poor performance</a>,
and compiling ATLAS with Visual Studio is not supported.  Thus we need
another compiler.  This is likely to be <a class="reference external" href="http://mingw.org/">mingw</a> or
<a class="reference external" href="http://mingw-w64.org">mingw-w64</a>.  The current (December 2015) release
build process for Windows uses an old copy of mingw, which does not have
gfortran.  mingw cannot build 64-bit applications, nor can it build
libraries compatible with libraries built with MSVC 14 / 2015 (Python 3.5 is
built with MSVC 14);</li>
<li>Mingw-w64 is the obvious choice for a compiler, but it has some numerical
problems due to differences in gcc default / MSVC default floating point
precision (see <a class="reference external" href="http://mingwpy.github.io/issues.html#math-precision-issues">math precision issues</a>.  These give
some floating point errors on numpy / scipy testing.  Mingw-w64, like mingw,
cannot yet link to the MSVC 14 / 2015 runtimes needed for Python 3.5
extensions.</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/whats-with-windows-builds.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Carl Kleffner and collaborators.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/whats-with-windows-builds.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>